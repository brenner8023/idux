import{A as e,C as t,c as r,o,i as a}from"./index.6d01456d.js";import{x as l,H as n,q as s,U as i,s as u,Z as c,ag as f}from"./vendor.1dc7622a.js";var p=Object.defineProperty,m=Object.defineProperties,d=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,g=(e,t,r)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;"undefined"!=typeof require&&require;const y=t=>n((()=>{const r=t.value;return null===r?null:e(r)?r:r.$el}));function h({offset:e,arrow:t,arrowOffset:r,showArrow:o},a=[]){const l=[{name:"offset",options:{offset:e}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}}];return o&&l.push({name:"arrow",options:{element:t,padding:null!=r?r:5}}),l.push(...a),l}const O=e=>{const{placement:t,popperOptions:r,offset:o,arrow:a,arrowOffset:l,showArrow:n}=e;return s=((e,t)=>{for(var r in t||(t={}))b.call(t,r)&&g(e,r,t[r]);if(v)for(var r of v(t))w.call(t,r)&&g(e,r,t[r]);return e})({placement:t},r),i={modifiers:h({offset:o,arrow:a,arrowOffset:l,showArrow:n},null==r?void 0:r.modifiers)},m(s,d(i));var s,i};var j=Object.defineProperty,E=Object.defineProperties,P=Object.getOwnPropertyDescriptors,k=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable,D=(e,t,r)=>t in e?j(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;"undefined"!=typeof require&&require;const T=e=>{const r=l(null),p=l(null),m=l(null),d=y(r),v=y(p),b=y(m);let w=null,g=null,h=null;const j=s(e);let T=null;const A=()=>{T&&T(),T=u((()=>{w&&a(window,"scroll",C);const e=d.value,t=v.value,r=b.value;if(!e||!t)return;const l=O((n=((e,t)=>{for(var r in t||(t={}))x.call(t,r)&&D(e,r,t[r]);if(k)for(var r of k(t))q.call(t,r)&&D(e,r,t[r]);return e})({},j),E(n,P({arrow:r}))));var n;w=c(e,t,l),w.update(),o(window,"scroll",C)}))},H=e=>{j.visible=e},R=()=>{g&&(clearTimeout(g),g=null),h&&(clearTimeout(h),h=null)},S=e=>{R();const t=null!=e?e:j.showDelay;t>0?g=setTimeout((()=>{H(!0)}),t):H(!0)},I=e=>{R();const t=null!=e?e:j.hideDelay;t>0?h=setTimeout((()=>{H(!1)}),t):H(!1)},z=e=>{Object.assign(j,e),w?(e&&w.setOptions(e),w.update()):f((()=>A()))},C=()=>{U.value&&w&&"close"===j.scrollStrategy&&I(0)},U=n((()=>!j.disabled&&!!j.visible));i(U,(()=>z()));const Z=e=>{switch(e.stopPropagation(),e.type){case"click":U.value?I():S();break;case"contextmenu":e.preventDefault(),U.value?I():S();break;case"mouseenter":case"focus":S();break;case"mouseleave":case"blur":I()}},$=e=>{switch(e.type){case"click":e.stopPropagation();break;case"mouseenter":j.allowEnter&&h&&(clearTimeout(h),h=null);break;case"mouseleave":j.allowEnter&&"hover"===j.trigger&&I()}},B={click:["click"],focus:["focus","blur"],hover:["mouseenter","mouseleave"],contextmenu:["contextmenu"],manual:[]},F=["mouseenter","mouseleave","click"];return i((()=>j.trigger),((e,t)=>{const r=d.value,l=v.value;if((B[t]||[]).forEach((e=>a(r,e,Z))),F.forEach((e=>a(l,e,$))),"manual"!==e){B[e].forEach((e=>o(r,e,Z))),F.forEach((e=>o(l,e,$)))}})),i(d,((e,t)=>{(B[j.trigger]||[]).forEach((r=>{a(t,r,Z),o(e,r,Z)}))}),{flush:"post"}),i(v,((e,t)=>{"manual"!==j.trigger&&F.forEach((r=>{a(t,r,$),o(e,r,$)}))}),{flush:"post"}),{triggerRef:r,overlayRef:p,arrowRef:m,initialize:A,show:S,hide:I,update:z,destroy:()=>{T&&T(),w&&(w.destroy(),w=null,a(window,"scroll",C))},id:t("ix-overlay"),visibility:U,triggerEventHandler:Z,overlayEventHandler:$}};r.oneOf(["click","hover","focus","contextmenu","manual"]),r.oneOf(["auto","auto-start","auto-end","top","left","bottom","right","top-start","top-end","bottom-start","bottom-end","right-start","right-end","left-start","left-end"]);export{T as u};
