import{G as e,z as a,H as l,K as n,a2 as t,i,ax as s,F as u,x as o,s as r,e as p,U as v,E as d}from"./vendor.1dc7622a.js";import{c,e as g,N as x,u as m,a4 as b,Q as h,j as z}from"./index.6d01456d.js";import{a as f}from"./index.f2d6e497.js";const S=Symbol("paginationToken");var y=e({setup(){const{props:e,slots:t,config:i,locale:s,activeIndex:u,activeSize:o}=a(S),r=l((()=>{var a,l;return null!=(l=null!=(a=t.total)?a:e.totalRender)?l:i.totalRender})),p=l((()=>{const a=u.value,l=o.value;return[(a-1)*l+1,Math.min(a*l,e.total)]}));return()=>{const{total:a}=e,{totalPrefix:l,totalSuffix:t}=s.value,i=r.value,u=i?i({total:a,range:p.value}):`${l} ${a} ${t}`;return n("li",{class:"ix-pagination-total"},[u])}}});const I={pageIndex:c.number.def(1),pageSize:c.number,disabled:c.bool.def(!1),itemRender:c.func(),pageSizes:c.arrayOf(Number),showQuickJumper:c.bool,showSizeChanger:c.bool,showTitle:c.bool,showTotal:c.bool,simple:c.bool,size:c.oneOf(["medium","small"]),total:c.number.def(0),totalRender:c.func(),"onUpdate:pageIndex":c.emit(),"onUpdate:pageSize":c.emit(),onChange:c.emit()},w={disabled:c.bool,index:c.number,type:c.oneOf(["page","prev","next","prev5","next5"]).isRequired},C={prev:"left",next:"right",prev5:"double-left",next5:"double-right",page:""},P={next:1,prev:-1,prev5:-5,next5:5};var T=e({props:w,setup(e){const{props:s,slots:u,config:o,locale:r,activeIndex:p,onPageIndexChange:v}=a(S),d=l((()=>p.value===e.index)),c=l((()=>e.disabled||s.disabled)),x=l((()=>{var e;return null!=(e=s.showTitle)?e:o.showTitle})),m=l((()=>{var e,a;return null!=(a=null!=(e=u.item)?e:s.itemRender)?a:o.itemRender})),b=l((()=>({"ix-pagination-item":!0,"ix-pagination-item-active":d.value}))),h=l((()=>{if(!x.value)return;const{type:a,index:l}=e;return"page"===a?l.toString():r.value[a]})),z=()=>{if(c.value)return;const{type:a,index:l}=e;let n;n="page"===a?l:p.value+P[a],v(n)};return()=>{const{index:a,type:l}=e,s=c.value,u=d.value,o=m.value;let r;const p=C[l],v={mode:"text",size:"small",shape:"circle"};r="prev5"===e.type||"next5"===l?n("span",{class:"ix-pagination-item-jumper"},[n(g,t(v,{icon:p,disabled:s}),null),n(g,t(v,{class:"ix-pagination-item-ellipsis",icon:"ellipsis",disabled:s}),null)]):i(a)?n(g,t(v,{icon:p,disabled:s}),null):n(g,t(v,{icon:p,disabled:s}),{default:()=>[a]});const x=o?o({index:a,type:l,active:u,disabled:s,original:r}):r;return n("li",{class:b.value,title:h.value,onClick:z},[x])}}});function j(e){const{activeIndex:l,onPageIndexChange:n}=a(S);return s((a=>{const t=a.target,i=Math.floor(h(t.value,l.value));n(i),e&&(t.value="")}),["enter"])}var R=e({setup(){const{props:e,config:t,locale:i}=a(S),s=l((()=>{var a;return null!=(a=e.size)?a:t.size})),u=j(!0);return()=>{const{disabled:a}=e,{jumpTo:l,page:t}=i.value;return n("li",{class:"ix-pagination-jumper"},[l,n(x,{disabled:a,size:s.value,onKeydown:u},null),t])}}}),k=e({setup(){const{props:e,config:t,locale:i,activeSize:s,onPageSizeChange:u}=a(S),o=l((()=>{var a;return null!=(a=e.size)?a:t.size})),r=l((()=>{var a;return null!=(a=e.pageSizes)?a:t.pageSizes})),p=l((()=>r.value.map((e=>({value:e,label:`${e} ${i.value.itemsPerPage}`})))));return()=>n("li",{class:"ix-pagination-sizes"},[n(f,{disabled:e.disabled,options:p.value,size:o.value,value:s.value,onChange:u},null)])}}),$=e({setup(){const{props:e,config:i,activeIndex:s,activeSize:o}=a(S),r=M(e,s,o),p=l((()=>{var a;return null!=(a=e.showQuickJumper)?a:i.showQuickJumper})),v=l((()=>{var a;return null!=(a=e.showSizeChanger)?a:i.showSizeChanger}));return()=>n(u,null,[r.value.map((e=>n(T,t({key:e.type+"-"+e.index},e),null))),v.value?n(k,null,null):null,p.value?n(R,null,null):null])}});const M=(e,a,n)=>l((()=>{const l=Math.ceil(e.total/n.value);return U(a.value,l)})),U=(e,a)=>{let l;l=a<=9?Q(1,a):J(e,a);const n={type:"next",disabled:e===a};return[{type:"prev",disabled:1===e},...l,n]},Q=(e,a)=>{const l=[];for(let n=e;n<=a;n++)l.push({index:n,type:"page"});return l},J=(e,a)=>{let l=[];const n={type:"prev5"},t={type:"next5"};l=e<5?[...Q(2,5),t]:e<a-3?[n,...Q(e-2,e+2),t]:[n,...Q(a-4,a-1)];const i=Q(1,1),s=Q(a,a);return[...i,...l,...s]};var K=e({setup(){const{props:e,config:t,activeIndex:i,activeSize:s}=a(S),v=l((()=>{var a;return null!=(a=e.size)?a:t.size})),d=o(0),c=o(!1),g=o(!1);r((()=>{const a=Math.ceil(e.total/s.value);d.value=a,c.value=1===i.value,g.value=i.value===a}));const m=j(!1);return()=>n(u,null,[n(T,{disabled:c.value,type:"prev"},null),n("li",{class:"ix-pagination-item"},[n(x,{disabled:e.disabled,size:v.value,value:i.value.toString(),onKeydown:m},null),n("span",{class:"ix-pagination-item-slash"},[p("/")]),n("span",null,[d.value])]),n(T,{disabled:g.value,type:"next"},null)])}}),O=e({name:"IxPagination",props:I,setup(e,{slots:a}){const t=m("pagination");q(e,a,t);const i=l((()=>{var a;return null!=(a=e.showTotal)?a:t.showTotal})),s=l((()=>{var a;return null!=(a=e.simple)?a:t.simple})),u=l((()=>{var a;return null!=(a=e.size)?a:t.size})),o=N(e,s,u);return()=>n("ul",{class:o.value},[i.value?n(y,null,null):null,s.value?n(K,null,null):n($,null,null)])}});const N=(e,a,n)=>l((()=>({"ix-pagination":!0,"ix-pagination-disabled":e.disabled,"ix-pagination-simple":a.value,[`ix-pagination-${n.value}`]:!0}))),q=(e,a,n)=>{const t=b("pagination"),i=l((()=>{var a;return null!=(a=e.pageSize)?a:n.pageSize})),s=o(i.value),u=o(e.pageIndex),r=l((()=>Math.ceil(e.total/s.value))),p=a=>{const l=((e,a)=>e>a?a:e<1?1:e)(a,r.value);l!==u.value&&(u.value=l,z(e["onUpdate:pageIndex"],l),z(e.onChange,l,s.value))};v(i,(e=>s.value=e)),v((()=>e.pageIndex),(e=>u.value=e)),v([u,r],(([e,a])=>{e>a&&p(a)}),{immediate:!0}),d(S,{props:e,slots:a,config:n,locale:t,activeIndex:u,activeSize:s,onPageIndexChange:p,onPageSizeChange:a=>{s.value=a,z(e["onUpdate:pageSize"],a),z(e.onChange,u.value,a)}})},E=O;export{E as I};
