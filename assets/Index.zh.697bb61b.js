import{r as n,K as s,Z as a,N as t,l as o,ae as l,Q as c,a6 as e}from"./vendor.7f69e505.js";var p={name:"Demosubject",components:{},setup(){const s=n(!1);return{goLink:n=>{window&&(window.location.hash=n)},expanded:s,expandAll:()=>{s.value=!s.value}}}};const u={class:"markdown header-wrapper"},i=e("Subject"),k=c("span",{class:"subtitle"},"观察者",-1),r={class:"edit-button","aria-label":"Edit this page on Github",href:"https://github.com/IDuxFE/idux/edit/main/cdk/subject/docs/Index.zh.md",target:"_blank",rel:"noopener noreferrer"},d=c("section",{class:"markdown"},[c("h2",{id:"何时使用"},[c("span",null,"何时使用"),c("a",{onclick:"window.location.hash = '何时使用'",class:"anchor"},"#")])],-1),m=c("span",null,"代码演示",-1),b={class:"example-wrapper"},h=c("section",{class:"markdown api-wrapper"},[c("h2",{id:"api"},[c("span",null,"API"),c("a",{onclick:"window.location.hash = 'api'",class:"anchor"},"#")]),c("h3",{id:"subject"},[c("span",null,"Subject"),c("a",{onclick:"window.location.hash = 'subject'",class:"anchor"},"#")]),c("h4",{id:"params"},[c("span",null,"Params"),c("a",{onclick:"window.location.hash = 'params'",class:"anchor"},"#")]),c("table",null,[c("thead",null,[c("tr",null,[c("th",null,"名称"),c("th",null,"说明"),c("th",null,"类型"),c("th",null,"默认值"),c("th",null,"备注")])]),c("tbody",null,[c("tr",null,[c("td",null,[c("code",null,"T")]),c("td",null,"发布参数的类型"),c("td",null,[c("code",null,"T")]),c("td",null,[c("code",null,"void")]),c("td",null,"是一个泛型，起发布订阅参数类型保护")]),c("tr",null,[c("td",null,[c("code",null,"constructor")]),c("td",null,"-"),c("td",null,[c("code",null,"() => void")]),c("td",null,"-"),c("td",null,"-")]),c("tr",null,[c("td",null,[c("code",null,"dispatch")]),c("td",null,"发布事件"),c("td",null,[c("code",null,"(value: T) => void")]),c("td",null,"-"),c("td",null,"-")]),c("tr",null,[c("td",null,[c("code",null,"subscribe")]),c("td",null,"订阅事件"),c("td",null,[c("code",null,"(observer: Observer<T>) => Subscription")]),c("td",null,"-"),c("td",null,"订阅事件，利用闭包生成事件id，返回退订事件")]),c("tr",null,[c("td",null,[c("code",null,"unsubscribeAll")]),c("td",null,"退订所有事件"),c("td",null,[c("code",null,"() => void")]),c("td",null,"-"),c("td")])])]),c("pre",{class:"language-typescript"},[c("code",null,[c("span",{class:"token keyword"},"interface"),e(),c("span",{class:"token class-name"},[e("Observer"),c("span",{class:"token operator"},"<"),c("span",{class:"token constant"},"T"),c("span",{class:"token operator"},">")]),e(),c("span",{class:"token punctuation"},"{"),e("\n  "),c("span",{class:"token punctuation"},"("),e("value"),c("span",{class:"token operator"},":"),e(),c("span",{class:"token constant"},"T"),c("span",{class:"token punctuation"},")"),c("span",{class:"token operator"},":"),e(),c("span",{class:"token keyword"},"void"),e("\n"),c("span",{class:"token punctuation"},"}"),e("\n\n"),c("span",{class:"token keyword"},"interface"),e(),c("span",{class:"token class-name"},"Subscription"),e(),c("span",{class:"token punctuation"},"{"),e("\n  "),c("span",{class:"token function-variable function"},"unsubscribe"),c("span",{class:"token operator"},":"),e(),c("span",{class:"token punctuation"},"("),c("span",{class:"token punctuation"},")"),e(),c("span",{class:"token operator"},"=>"),e(),c("span",{class:"token keyword"},"void"),e("\n"),c("span",{class:"token punctuation"},"}")])]),c("h2",{id:"demo"},[c("span",null,"DEMO"),c("a",{onclick:"window.location.hash = 'demo'",class:"anchor"},"#")]),c("pre",{class:"language-html"},[c("code",null,[c("span",{class:"token tag"},[c("span",{class:"token tag"},[c("span",{class:"token punctuation"},"<"),e("template")]),c("span",{class:"token punctuation"},">")]),e("\n  "),c("span",{class:"token tag"},[c("span",{class:"token tag"},[c("span",{class:"token punctuation"},"<"),e("div")]),e(),c("span",{class:"token punctuation"},"/>")]),e("\n"),c("span",{class:"token tag"},[c("span",{class:"token tag"},[c("span",{class:"token punctuation"},"</"),e("template")]),c("span",{class:"token punctuation"},">")]),e("\n\n"),c("span",{class:"token tag"},[c("span",{class:"token tag"},[c("span",{class:"token punctuation"},"<"),e("script")]),e(),c("span",{class:"token attr-name"},"lang"),c("span",{class:"token attr-value"},[c("span",{class:"token punctuation attr-equals"},"="),c("span",{class:"token punctuation"},'"'),e("ts"),c("span",{class:"token punctuation"},'"')]),c("span",{class:"token punctuation"},">")]),c("span",{class:"token script"},[c("span",{class:"token language-javascript"},[e("\n"),c("span",{class:"token keyword"},"import"),e(),c("span",{class:"token punctuation"},"{"),e(" defineComponent "),c("span",{class:"token punctuation"},"}"),e(),c("span",{class:"token keyword"},"from"),e(),c("span",{class:"token string"},"'vue'"),e("\n"),c("span",{class:"token keyword"},"import"),e(),c("span",{class:"token punctuation"},"{"),e(" Subject "),c("span",{class:"token punctuation"},"}"),e(),c("span",{class:"token keyword"},"from"),e(),c("span",{class:"token string"},"'@idux/cdk/subject'"),e("\n\n"),c("span",{class:"token keyword"},"export"),e(),c("span",{class:"token keyword"},"default"),e(),c("span",{class:"token function"},"defineComponent"),c("span",{class:"token punctuation"},"("),c("span",{class:"token punctuation"},"{"),e("\n  "),c("span",{class:"token function"},"setup"),c("span",{class:"token punctuation"},"("),c("span",{class:"token punctuation"},")"),e(),c("span",{class:"token punctuation"},"{"),e("\n    "),c("span",{class:"token keyword"},"const"),e(" subject1 "),c("span",{class:"token operator"},"="),e(),c("span",{class:"token keyword"},"new"),e(),c("span",{class:"token class-name"},"Subject"),c("span",{class:"token punctuation"},"("),c("span",{class:"token punctuation"},")"),e("\n    subject1"),c("span",{class:"token punctuation"},"."),c("span",{class:"token function"},"subscribe"),c("span",{class:"token punctuation"},"("),c("span",{class:"token punctuation"},"("),c("span",{class:"token punctuation"},")"),e(),c("span",{class:"token operator"},"=>"),e(),c("span",{class:"token punctuation"},"{"),e("\n      "),c("span",{class:"token comment"},"// 订阅"),e("\n    "),c("span",{class:"token punctuation"},"}"),c("span",{class:"token punctuation"},")"),e("\n\n    subject1"),c("span",{class:"token punctuation"},"."),c("span",{class:"token function"},"dispatch"),c("span",{class:"token punctuation"},"("),c("span",{class:"token punctuation"},")"),e(),c("span",{class:"token comment"},"// 发布"),e("\n\n    "),c("span",{class:"token comment"},"/* Subject是一个泛型类 */"),e("\n    "),c("span",{class:"token keyword"},"const"),e(" subject2 "),c("span",{class:"token operator"},"="),e(),c("span",{class:"token keyword"},"new"),e(),c("span",{class:"token class-name"},"Subject"),c("span",{class:"token operator"},"<"),e("number"),c("span",{class:"token operator"},">"),c("span",{class:"token punctuation"},"("),c("span",{class:"token punctuation"},")"),e("\n\n    subject2"),c("span",{class:"token punctuation"},"."),c("span",{class:"token function"},"subscribe"),c("span",{class:"token punctuation"},"("),c("span",{class:"token parameter"},"value"),e(),c("span",{class:"token operator"},"=>"),e(),c("span",{class:"token punctuation"},"{"),e("\n      "),c("span",{class:"token comment"},"// value会被推导为number"),e("\n      console"),c("span",{class:"token punctuation"},"."),c("span",{class:"token function"},"log"),c("span",{class:"token punctuation"},"("),e("value"),c("span",{class:"token punctuation"},")"),e("\n    "),c("span",{class:"token punctuation"},"}"),c("span",{class:"token punctuation"},")"),e("\n\n    subject2"),c("span",{class:"token punctuation"},"."),c("span",{class:"token function"},"dispatch"),c("span",{class:"token punctuation"},"("),c("span",{class:"token number"},"100"),c("span",{class:"token punctuation"},")"),e(),c("span",{class:"token comment"},"// ts类型保护，传参必须为number"),e("\n  "),c("span",{class:"token punctuation"},"}"),c("span",{class:"token punctuation"},","),e("\n"),c("span",{class:"token punctuation"},"}"),c("span",{class:"token punctuation"},")"),e("\n")])]),c("span",{class:"token tag"},[c("span",{class:"token tag"},[c("span",{class:"token punctuation"},"</"),e("script")]),c("span",{class:"token punctuation"},">")])])])],-1);p.render=function(n,e,p,w,g,f){const v=s("ix-anchor-link"),j=s("ix-anchor"),x=s("ix-icon"),y=s("ix-col"),S=s("ix-row");return a(),t("article",null,[o(j,{class:"toc-wrapper",affix:"",offset:"16",onClick:e[0]||(e[0]=n=>w.goLink(n))},{default:l((()=>[o(v,{href:"#api",title:"API"})])),_:1}),c("section",u,[c("h1",null,[i,k,c("a",r,[o(x,{name:"edit"})])]),d,c("h2",null,[m,o(x,{name:"appstore",class:"code-box-expand-trigger",title:"展开全部",onClick:e[1]||(e[1]=n=>w.expandAll())})])]),c("section",b,[o(S,{gutter:"16"},{default:l((()=>[o(y,{lg:"12",span:"24"}),o(y,{lg:"12",span:"24"})])),_:1})]),h])};export{p as default};
