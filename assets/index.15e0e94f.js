import{E as e,y as t,ac as a,G as i,H as n,ad as s,i as l,ax as o,F as r,v as u,s as d,e as p,P as c,D as v}from"./vendor.49325c66.js";import{c as h,e as g,Q as x,u as m,a4 as z,T as b,j as f}from"./index.240f5fc1.js";import{a as I}from"./index.9bcad780.js";const S=Symbol("paginationToken");var w=e({setup(){const{props:e,slots:n,config:s,locale:l,activeIndex:o,activeSize:r}=t(S),u=a(e,"total"),d=i((()=>{var t,a;return null!=(a=null!=(t=n.total)?t:e.totalRender)?a:s.totalRender}));return{locale:l,range:i((()=>{const e=o.value,t=r.value;return[(e-1)*t+1,Math.min(e*t,u.value)]})),total:u,totalRender:d}},render(){const{locale:e,total:t,range:a,totalRender:i}=this,{totalPrefix:s,totalSuffix:l}=e,o=i?i({total:t,range:a}):`${s} ${t} ${l}`;return n("li",{class:"ix-pagination-total"},[o])}});const y={pageIndex:h.number.def(1),pageSize:h.number,disabled:h.bool.def(!1),itemRender:h.func(),pageSizes:h.arrayOf(Number),showQuickJumper:h.bool,showSizeChanger:h.bool,showTitle:h.bool,showTotal:h.bool,simple:h.bool,size:h.oneOf(["medium","small"]),total:h.number.def(0),totalRender:h.func(),"onUpdate:pageIndex":h.emit(),"onUpdate:pageSize":h.emit()},C={disabled:h.bool,index:h.number,type:h.oneOf(["page","prev","next","prev5","next5"]).isRequired},$={prev:"left",next:"right",prev5:"double-left",next5:"double-right",page:""},T={next:1,prev:-1,prev5:-5,next5:5};var P=e({props:C,setup(e){const{props:a,slots:n,config:s,locale:l,activeIndex:o,onPageIndexChange:r}=t(S),u=i((()=>o.value===e.index)),d=i((()=>e.disabled||a.disabled)),p=i((()=>{var e;return null!=(e=a.showTitle)?e:s.showTitle})),c=i((()=>{var e,t;return null!=(t=null!=(e=n.item)?e:a.itemRender)?t:s.itemRender}));return{classes:i((()=>({"ix-pagination-item":!0,"ix-pagination-item-active":u.value}))),title:i((()=>{if(!p.value)return;const{type:t,index:a}=e;return"page"===t?a.toString():l.value[t]})),isActive:u,isDisabled:d,onClick:()=>{if(d.value)return;const{type:t,index:a}=e;let i;i="page"===t?a:o.value+T[t],r(i)},itemRender:c}},render(){const e=j(this.itemRender,this.index,this.type,this.isActive,this.isDisabled);return n("li",{class:this.classes,title:this.title,onClick:this.onClick},[e])}});const j=(e,t,a,i,o)=>{let r;const u=$[a],d={mode:"text",size:"small",shape:"circle"};return r="prev5"===a||"next5"===a?n("span",{class:"ix-pagination-item-jumper"},[n(g,s(d,{icon:u,disabled:o}),null),n(g,s(d,{class:"ix-pagination-item-ellipsis",icon:"ellipsis",disabled:o}),null)]):l(t)?n(g,s(d,{icon:u,disabled:o}),null):n(g,s(d,{icon:u,disabled:o}),{default:()=>[t]}),e?e({index:t,type:a,active:i,disabled:o,original:r}):r};function R(e){const{activeIndex:a,onPageIndexChange:i}=t(S);return o((t=>{const n=t.target,s=Math.floor(b(n.value,a.value));i(s),e&&(n.value="")}),["enter"])}var k=e({setup(){const{props:e,config:n,locale:s}=t(S),l=i((()=>{var t;return null!=(t=e.size)?t:n.size})),o=R(!0);return{disabled:a(e,"disabled"),size:l,locale:s,jumpToIndex:o}},render(){const{jumpTo:e,page:t}=this.locale;return n("li",{class:"ix-pagination-jumper"},[e,n(x,{disabled:this.disabled,size:this.size,onKeydown:this.jumpToIndex},null),t])}}),Q=e({setup(){const{props:e,config:n,locale:s,activeSize:l,onPageSizeChange:o}=t(S),r=i((()=>{var t;return null!=(t=e.size)?t:n.size})),u=i((()=>{var t;return null!=(t=e.pageSizes)?t:n.pageSizes}));return{sizeOptions:i((()=>u.value.map((e=>({value:e,label:`${e} ${s.value.itemsPerPage}`}))))),onPageSizeChange:o,size:r,activeSize:l,disabled:a(e,"disabled")}},render(){return n("li",{class:"ix-pagination-sizes"},[n(I,{disabled:this.disabled,options:this.sizeOptions,size:this.size,value:this.activeSize,onChange:this.onPageSizeChange},null)])}}),J=e({setup(){const{props:e,config:a,activeIndex:n,activeSize:s}=t(S),l=M(e,n,s),o=i((()=>{var t;return null!=(t=e.showQuickJumper)?t:a.showQuickJumper}));return{items:l,showSizeChanger:i((()=>{var t;return null!=(t=e.showSizeChanger)?t:a.showSizeChanger})),showQuickJumper:o}},render(){const e=this.items.map((e=>n(P,s({key:e.type+"-"+e.index},e),null))),t=this.showSizeChanger?n(Q,null,null):null,a=this.showQuickJumper?n(k,null,null):null;return n(r,null,[e,t,a])}});const M=(e,t,a)=>i((()=>{const i=Math.ceil(e.total/a.value);return O(t.value,i)})),O=(e,t)=>{let a;a=t<=9?U(1,t):D(e,t);const i={type:"next",disabled:e===t};return[{type:"prev",disabled:1===e},...a,i]},U=(e,t)=>{const a=[];for(let i=e;i<=t;i++)a.push({index:i,type:"page"});return a},D=(e,t)=>{let a=[];const i={type:"prev5"},n={type:"next5"};a=e<5?[...U(2,5),n]:e<t-3?[i,...U(e-2,e+2),n]:[i,...U(t-4,t-1)];const s=U(1,1),l=U(t,t);return[...s,...a,...l]};var F=e({setup(){const{props:e,config:n,activeIndex:s,activeSize:l}=t(S),o=i((()=>{var t;return null!=(t=e.size)?t:n.size})),r=u(0),p=u(!1),c=u(!1);d((()=>{const t=Math.ceil(e.total/l.value);r.value=t,p.value=1===s.value,c.value=s.value===t}));const v=R(!1);return{size:o,disabled:a(e,"disabled"),activeIndex:s,lastIndex:r,isFirstIndex:p,isLastIndex:c,jumpToIndex:v}},render(){return n(r,null,[n(P,{disabled:this.isFirstIndex,type:"prev"},null),n("li",{class:"ix-pagination-item"},[n(x,{disabled:this.disabled,size:this.size,value:this.activeIndex.toString(),onKeydown:this.jumpToIndex},null),n("span",{class:"ix-pagination-item-slash"},[p("/")]),n("span",null,[this.lastIndex])]),n(P,{disabled:this.isLastIndex,type:"next"},null)])}}),A=e({name:"IxPagination",props:y,setup(e,{slots:t}){const a=m("pagination");L(e,t,a);const n=i((()=>{var t;return null!=(t=e.showTotal)?t:a.showTotal})),s=i((()=>{var t;return null!=(t=e.simple)?t:a.simple})),l=i((()=>{var t;return null!=(t=e.size)?t:a.size}));return{classes:K(e,s,l),showTotal$$:n,simple$$:s,size$$:l}},render(){const e=[];return this.showTotal$$&&e.push(n(w,null,null)),this.simple$$?e.push(n(F,null,null)):e.push(n(J,null,null)),n("ul",{class:this.classes},[e])}});const K=(e,t,a)=>i((()=>({"ix-pagination":!0,"ix-pagination-disabled":e.disabled,"ix-pagination-simple":t.value,[`ix-pagination-${a.value}`]:!0}))),L=(e,t,a)=>{const n=z("pagination"),s=i((()=>{var t;return null!=(t=e.pageSize)?t:a.pageSize})),l=u(s.value),o=u(e.pageIndex),r=i((()=>Math.ceil(e.total/l.value))),d=t=>{const a=((e,t)=>e>t?t:e<1?1:e)(t,r.value);a!==o.value&&(o.value=a,f(e["onUpdate:pageIndex"],a))};c(s,(e=>l.value=e)),c((()=>e.pageIndex),(e=>o.value=e)),c([o,r],(([e,t])=>{e>t&&d(t)}),{immediate:!0}),v(S,{props:e,slots:t,config:a,locale:n,activeIndex:o,activeSize:l,onPageIndexChange:d,onPageSizeChange:t=>{l.value=t,f(e["onUpdate:pageSize"],t)}})},q=A;export{q as I};
